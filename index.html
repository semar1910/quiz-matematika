<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Latihan Soal Rasio dan Perbandingan</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2em;
        }

        .soal-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border-left: 5px solid #667eea;
        }

        .soal-header {
            font-size: 1.3em;
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .soal-number {
            background: #667eea;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 1.2em;
        }

        .soal-text {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            line-height: 1.8;
            font-size: 1.1em;
        }

        .langkah {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 3px solid #764ba2;
        }

        .langkah-title {
            font-weight: bold;
            color: #764ba2;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .input-group {
            display: inline-block;
            margin: 0 5px;
        }

        input[type="text"], input[type="number"] {
            width: 80px;
            padding: 8px;
            border: 2px solid #ddd;
            border-radius: 5px;
            text-align: center;
            font-size: 1em;
            transition: all 0.3s;
        }

        input[type="text"]:focus, input[type="number"]:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
        }

        input.correct {
            border-color: #28a745;
            background: #d4edda;
        }

        input.incorrect {
            border-color: #dc3545;
            background: #f8d7da;
        }

        .pilihan-jawaban {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .pilihan {
            background: white;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            font-size: 1.1em;
        }

        .pilihan:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .pilihan.selected {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .pilihan.correct-answer {
            background: #28a745;
            color: white;
            border-color: #28a745;
        }

        .pilihan.wrong-answer {
            background: #dc3545;
            color: white;
            border-color: #dc3545;
        }

        .btn {
            background: #667eea;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1em;
            margin: 10px 5px;
            transition: all 0.3s;
        }

        .btn:hover {
            background: #764ba2;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-mini {
            background: #28a745;
            color: white;
            padding: 8px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9em;
            margin-top: 10px;
            transition: all 0.3s;
        }

        .btn-mini:hover {
            background: #218838;
            transform: translateY(-1px);
            box-shadow: 0 3px 10px rgba(40, 167, 69, 0.4);
        }

        .feedback-langkah {
            padding: 10px;
            border-radius: 8px;
            margin-top: 10px;
            font-weight: bold;
            font-size: 0.9em;
            display: none;
        }

        .feedback-langkah.show {
            display: block;
        }

        .feedback-langkah.success {
            background: #d4edda;
            color: #155724;
            border: 2px solid #28a745;
        }

        .feedback-langkah.error {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #dc3545;
        }

        .btn-container {
            text-align: center;
            margin-top: 20px;
        }

        .feedback {
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            font-weight: bold;
            text-align: center;
            display: none;
        }

        .feedback.show {
            display: block;
        }

        .feedback.success {
            background: #d4edda;
            color: #155724;
            border: 2px solid #28a745;
        }

        .feedback.error {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #dc3545;
        }

        .gambar-buah {
            font-size: 2em;
            line-height: 1.5;
            text-align: center;
            margin: 20px 0;
            letter-spacing: 5px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 1.5em;
            }

            .pilihan-jawaban {
                grid-template-columns: 1fr;
            }

            input[type="text"], input[type="number"] {
                width: 60px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“š Latihan Soal Rasio dan Perbandingan</h1>

        <!-- SOAL 1 -->
        <div class="soal-card">
            <div class="soal-header">
                <div class="soal-number">1</div>
                <div>Masalah Rasio</div>
            </div>
            <div class="soal-text">
                Di sebuah taman bermain terdapat 180 pengunjung, yang terdiri dari 45 orang dewasa dan sisanya anak-anak. Rasio banyak pengunjung anak-anak terhadap seluruh pengunjung adalah...
            </div>

            <div class="langkah">
                <div class="langkah-title">Langkah 1: Hitung pengunjung anak-anak</div>
                <p>Pengunjung anak-anak = Total pengunjung - Pengunjung dewasa</p>
                <p>Pengunjung anak-anak = 180 - <input type="number" id="s1_l1_1" data-answer="45"> = <input type="number" id="s1_l1_2" data-answer="135"></p>
                <p>Jadi pengunjung anak-anak adalah = <input type="number" id="s1_l1_3" data-answer="135"></p>
                <button class="btn-mini" onclick="cekLangkah(1, 1)">âœ“ Cek Langkah 1</button>
                <div class="feedback-langkah" id="feedback-s1-l1"></div>
            </div>

            <div class="langkah">
                <div class="langkah-title">Langkah 2: Buat rasio</div>
                <p>Rasio = Pengunjung anak-anak : Total pengunjung</p>
                <p>Rasio = <input type="number" id="s1_l2_1" data-answer="135"> : 180</p>
                <button class="btn-mini" onclick="cekLangkah(1, 2)">âœ“ Cek Langkah 2</button>
                <div class="feedback-langkah" id="feedback-s1-l2"></div>
            </div>

            <div class="langkah">
                <div class="langkah-title">Langkah 3: Sederhanakan rasio</div>
                <p><input type="number" id="s1_l3_1" data-answer="135"> dan 180 dibagi 45</p>
                <p><input type="number" id="s1_l3_2" data-answer="135"> Ã· 45 = <input type="number" id="s1_l3_3" data-answer="3"></p>
                <p>180 Ã· 45 = <input type="number" id="s1_l3_4" data-answer="4"></p>
                <button class="btn-mini" onclick="cekLangkah(1, 3)">âœ“ Cek Langkah 3</button>
                <div class="feedback-langkah" id="feedback-s1-l3"></div>
            </div>

            <div class="pilihan-jawaban">
                <div class="pilihan" data-soal="1" data-jawaban="A">A. 2 : 3</div>
                <div class="pilihan" data-soal="1" data-jawaban="B">B. 3 : 4</div>
                <div class="pilihan" data-soal="1" data-jawaban="C">C. 4 : 5</div>
                <div class="pilihan" data-soal="1" data-jawaban="D">D. 5 : 6</div>
            </div>

            <div class="btn-container">
                <button class="btn" onclick="cekJawaban(1, 'B')">Cek Jawaban</button>
                <button class="btn" onclick="resetSoal(1)">Reset</button>
            </div>
            <div class="feedback" id="feedback-1"></div>
        </div>

        <!-- SOAL 2 -->
        <div class="soal-card">
            <div class="soal-header">
                <div class="soal-number">2</div>
                <div>Masalah Harga Satuan</div>
            </div>
            <div class="soal-text">
                Dengan 4 lembar uang lima puluh ribuan Ibu dapat membeli 5 kg gula. Tentukan harga 1 kg gula tersebut!
            </div>

            <div class="langkah">
                <div class="langkah-title">Langkah 1: Hitung total uang</div>
                <p>Total uang = 4 lembar Ã— Rp50.000</p>
                <p>Total uang = Rp <input type="number" id="s2_l1_1" data-answer="200000"></p>
                <button class="btn-mini" onclick="cekLangkah(2, 1)">âœ“ Cek Langkah 1</button>
                <div class="feedback-langkah" id="feedback-s2-l1"></div>
            </div>

            <div class="langkah">
                <div class="langkah-title">Langkah 2: Hitung harga per kg</div>
                <p>Harga 1 kg gula = Total uang Ã· Jumlah kg</p>
                <p>Harga 1 kg gula = Rp <input type="number" id="s2_l2_1" data-answer="200000"> Ã· <input type="number" id="s2_l2_2" data-answer="5"> kg</p>
                <p>Harga 1 kg gula = Rp <input type="number" id="s2_l2_3" data-answer="40000"></p>
                <button class="btn-mini" onclick="cekLangkah(2, 2)">âœ“ Cek Langkah 2</button>
                <div class="feedback-langkah" id="feedback-s2-l2"></div>
            </div>

            <div class="pilihan-jawaban">
                <div class="pilihan" data-soal="2" data-jawaban="A">A. Rp35.000</div>
                <div class="pilihan" data-soal="2" data-jawaban="B">B. Rp40.000</div>
                <div class="pilihan" data-soal="2" data-jawaban="C">C. Rp45.000</div>
                <div class="pilihan" data-soal="2" data-jawaban="D">D. Rp50.000</div>
            </div>

            <div class="btn-container">
                <button class="btn" onclick="cekJawaban(2, 'B')">Cek Jawaban</button>
                <button class="btn" onclick="resetSoal(2)">Reset</button>
            </div>
            <div class="feedback" id="feedback-2"></div>
        </div>

        <!-- SOAL 3 -->
        <div class="soal-card">
            <div class="soal-header">
                <div class="soal-number">3</div>
                <div>Masalah Perbandingan Umur</div>
            </div>
            <div class="soal-text">
                Perbandingan umur Andi dan Budi adalah 3 : 7. Jika jumlah umur mereka 50 tahun maka umur Andi adalah...
            </div>

            <div class="langkah">
                <div class="langkah-title">Langkah 1: Tentukan total bagian</div>
                <p>Perbandingan Andi : Budi = 3 : 7</p>
                <p>Total bagian = <input type="number" id="s3_l1_1" data-answer="3"> + <input type="number" id="s3_l1_2" data-answer="7"> = <input type="number" id="s3_l1_3" data-answer="10"> bagian</p>
                <button class="btn-mini" onclick="cekLangkah(3, 1)">âœ“ Cek Langkah 1</button>
                <div class="feedback-langkah" id="feedback-s3-l1"></div>
            </div>

            <div class="langkah">
                <div class="langkah-title">Langkah 2: Hitung nilai satu bagian</div>
                <p>Jumlah umur = 50 tahun</p>
                <p>Satu bagian = 50 Ã· <input type="number" id="s3_l2_1" data-answer="10"> = <input type="number" id="s3_l2_2" data-answer="5"> tahun</p>
                <button class="btn-mini" onclick="cekLangkah(3, 2)">âœ“ Cek Langkah 2</button>
                <div class="feedback-langkah" id="feedback-s3-l2"></div>
            </div>

            <div class="langkah">
                <div class="langkah-title">Langkah 3: Hitung umur masing-masing</div>
                <p>Umur Andi = <input type="number" id="s3_l3_1" data-answer="3"> Ã— 5 = <input type="number" id="s3_l3_2" data-answer="15"> tahun</p>
                <p>Umur Budi = <input type="number" id="s3_l3_3" data-answer="7"> Ã— 5 = <input type="number" id="s3_l3_4" data-answer="35"> tahun</p>
                <button class="btn-mini" onclick="cekLangkah(3, 3)">âœ“ Cek Langkah 3</button>
                <div class="feedback-langkah" id="feedback-s3-l3"></div>
            </div>

            <div class="pilihan-jawaban">
                <div class="pilihan" data-soal="3" data-jawaban="A">A. 10 tahun</div>
                <div class="pilihan" data-soal="3" data-jawaban="B">B. 15 tahun</div>
                <div class="pilihan" data-soal="3" data-jawaban="C">C. 20 tahun</div>
                <div class="pilihan" data-soal="3" data-jawaban="D">D. 25 tahun</div>
            </div>

            <div class="btn-container">
                <button class="btn" onclick="cekJawaban(3, 'B')">Cek Jawaban</button>
                <button class="btn" onclick="resetSoal(3)">Reset</button>
            </div>
            <div class="feedback" id="feedback-3"></div>
        </div>

        <!-- SOAL 4 -->
        <div class="soal-card">
            <div class="soal-header">
                <div class="soal-number">4</div>
                <div>Masalah Rasio dari Gambar</div>
            </div>
            <div class="soal-text">
                Perhatikan gambar berikut!
            </div>

            <div class="gambar-buah">
                ğŸŠğŸŠğŸŠğŸŠğŸŠğŸŠğŸŠğŸŠ<br>
                ğŸŠğŸŠğŸŠğŸŠğŸŠğŸŠğŸŠğŸŠ<br>
                ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡<br>
                ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡<br>
                ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡ğŸ‡
            </div>

            <div class="soal-text">
                Rasio banyak buah jeruk dan anggur adalah...
            </div>

            <div class="langkah">
                <div class="langkah-title">Langkah 1: Hitung jumlah masing-masing buah</div>
                <p>Jeruk = <input type="number" id="s4_l1_1" data-answer="16"> buah</p>
                <p>Anggur = <input type="number" id="s4_l1_2" data-answer="36"> buah</p>
                <button class="btn-mini" onclick="cekLangkah(4, 1)">âœ“ Cek Langkah 1</button>
                <div class="feedback-langkah" id="feedback-s4-l1"></div>
            </div>

            <div class="langkah">
                <div class="langkah-title">Langkah 2: Buat rasio</div>
                <p>Rasio = Jeruk : Anggur = <input type="number" id="s4_l2_1" data-answer="16"> : <input type="number" id="s4_l2_2" data-answer="36"></p>
                <button class="btn-mini" onclick="cekLangkah(4, 2)">âœ“ Cek Langkah 2</button>
                <div class="feedback-langkah" id="feedback-s4-l2"></div>
            </div>

            <div class="langkah">
                <div class="langkah-title">Langkah 3: Sederhanakan rasio</div>
                <p>Kedua bilangan dibagi <input type="number" id="s4_l3_1" data-answer="4"></p>
                <p><input type="number" id="s4_l3_2" data-answer="16"> Ã· <input type="number" id="s4_l3_3" data-answer="4"> = <input type="number" id="s4_l3_4" data-answer="4"></p>
                <p><input type="number" id="s4_l3_5" data-answer="36"> Ã· <input type="number" id="s4_l3_6" data-answer="4"> = <input type="number" id="s4_l3_7" data-answer="9"></p>
                <button class="btn-mini" onclick="cekLangkah(4, 3)">âœ“ Cek Langkah 3</button>
                <div class="feedback-langkah" id="feedback-s4-l3"></div>
            </div>

            <div class="pilihan-jawaban">
                <div class="pilihan" data-soal="4" data-jawaban="A">A. 2 : 5</div>
                <div class="pilihan" data-soal="4" data-jawaban="B">B. 3 : 7</div>
                <div class="pilihan" data-soal="4" data-jawaban="C">C. 4 : 9</div>
                <div class="pilihan" data-soal="4" data-jawaban="D">D. 5 : 8</div>
            </div>

            <div class="btn-container">
                <button class="btn" onclick="cekJawaban(4, 'C')">Cek Jawaban</button>
                <button class="btn" onclick="resetSoal(4)">Reset</button>
            </div>
            <div class="feedback" id="feedback-4"></div>
        </div>

        <!-- SOAL 5 -->
        <div class="soal-card">
            <div class="soal-header">
                <div class="soal-number">5</div>
                <div>Mengubah Pecahan ke Desimal</div>
            </div>
            <div class="soal-text">
                Bentuk desimal dari 7/8 adalah...
            </div>

            <div class="langkah">
                <div class="langkah-title">Langkah 1: Ubah pecahan ke bentuk pembagian</div>
                <p>7/8 = 7 Ã· 8</p>
                <p>Hasil = <input type="text" id="s5_l1_1" data-answer="0.875"></p>
                <button class="btn-mini" onclick="cekLangkah(5, 1)">âœ“ Cek Langkah 1</button>
                <div class="feedback-langkah" id="feedback-s5-l1"></div>
            </div>

            <div class="pilihan-jawaban">
                <div class="pilihan" data-soal="5" data-jawaban="A">A. 0,625</div>
                <div class="pilihan" data-soal="5" data-jawaban="B">B. 0,725</div>
                <div class="pilihan" data-soal="5" data-jawaban="C">C. 0,825</div>
                <div class="pilihan" data-soal="5" data-jawaban="D">D. 0,875</div>
            </div>

            <div class="btn-container">
                <button class="btn" onclick="cekJawaban(5, 'D')">Cek Jawaban</button>
                <button class="btn" onclick="resetSoal(5)">Reset</button>
            </div>
            <div class="feedback" id="feedback-5"></div>
        </div>
    </div>

    <script>
        // Variabel untuk menyimpan jawaban yang dipilih
        let jawabanDipilih = {};

        // Event listener untuk pilihan jawaban
        document.querySelectorAll('.pilihan').forEach(pilihan => {
            pilihan.addEventListener('click', function() {
                const soalNum = this.getAttribute('data-soal');
                const jawaban = this.getAttribute('data-jawaban');
                
                // Hapus seleksi sebelumnya
                document.querySelectorAll(`.pilihan[data-soal="${soalNum}"]`).forEach(p => {
                    p.classList.remove('selected');
                });
                
                // Tambah seleksi baru
                this.classList.add('selected');
                jawabanDipilih[soalNum] = jawaban;
            });
        });

        // Event listener untuk input - cek jawaban otomatis
        document.querySelectorAll('input[type="number"], input[type="text"]').forEach(input => {
            input.addEventListener('input', function() {
                const jawaban = parseFloat(this.getAttribute('data-answer'));
                const nilai = parseFloat(this.value);
                
                if (nilai === jawaban) {
                    this.classList.remove('incorrect');
                    this.classList.add('correct');
                } else if (this.value !== '') {
                    this.classList.remove('correct');
                    this.classList.add('incorrect');
                } else {
                    this.classList.remove('correct', 'incorrect');
                }
            });
        });

        function cekLangkah(soalNum, langkahNum) {
            const feedbackId = `feedback-s${soalNum}-l${langkahNum}`;
            const feedback = document.getElementById(feedbackId);
            const langkahPrefix = `s${soalNum}_l${langkahNum}_`;
            
            // Ambil semua input di langkah ini
            const inputs = document.querySelectorAll(`input[id^="${langkahPrefix}"]`);
            let semuaBenar = true;
            let adaKosong = false;
            
            inputs.forEach(input => {
                const jawaban = parseFloat(input.getAttribute('data-answer'));
                const nilai = parseFloat(input.value);
                
                if (input.value === '') {
                    adaKosong = true;
                } else if (nilai !== jawaban) {
                    semuaBenar = false;
                    input.classList.add('incorrect');
                    input.classList.remove('correct');
                } else {
                    input.classList.add('correct');
                    input.classList.remove('incorrect');
                }
            });
            
            if (adaKosong) {
                feedback.className = 'feedback-langkah show error';
                feedback.textContent = 'âš ï¸ Isi semua kolom terlebih dahulu!';
            } else if (semuaBenar) {
                feedback.className = 'feedback-langkah show success';
                feedback.textContent = 'âœ… Benar! Lanjut ke langkah berikutnya!';
            } else {
                feedback.className = 'feedback-langkah show error';
                feedback.textContent = 'âŒ Ada yang belum tepat. Coba periksa lagi!';
            }
        }

        function cekJawaban(soalNum, jawabanBenar) {
            const feedback = document.getElementById(`feedback-${soalNum}`);
            const pilihan = document.querySelectorAll(`.pilihan[data-soal="${soalNum}"]`);
            
            // Cek apakah input sudah diisi dengan benar
            const inputs = document.querySelectorAll(`.soal-card:nth-child(${soalNum}) input`);
            let semuaBenar = true;
            
            inputs.forEach(input => {
                const jawaban = parseFloat(input.getAttribute('data-answer'));
                const nilai = parseFloat(input.value);
                
                if (nilai !== jawaban) {
                    semuaBenar = false;
                    input.classList.add('incorrect');
                }
            });
            
            // Cek pilihan ganda
            if (jawabanDipilih[soalNum] === jawabanBenar && semuaBenar) {
                feedback.className = 'feedback show success';
                feedback.textContent = 'âœ… Benar! Semua jawaban tepat!';
                
                pilihan.forEach(p => {
                    if (p.getAttribute('data-jawaban') === jawabanBenar) {
                        p.classList.add('correct-answer');
                    }
                });
            } else {
                feedback.className = 'feedback show error';
                if (!semuaBenar) {
                    feedback.textContent = 'âŒ Ada langkah yang belum tepat. Coba periksa kembali!';
                } else if (!jawabanDipilih[soalNum]) {
                    feedback.textContent = 'âŒ Pilih salah satu jawaban!';
                } else {
                    feedback.textContent = 'âŒ Jawaban belum tepat. Coba lagi!';
                    pilihan.forEach(p => {
                        if (p.getAttribute('data-jawaban') === jawabanDipilih[soalNum]) {
                            p.classList.add('wrong-answer');
                        }
                        if (p.getAttribute('data-jawaban') === jawabanBenar) {
                            p.classList.add('correct-answer');
                        }
                    });
                }
            }
        }

        function resetSoal(soalNum) {
            // Reset input
            const inputs = document.querySelectorAll(`.soal-card:nth-child(${soalNum}) input`);
            inputs.forEach(input => {
                input.value = '';
                input.classList.remove('correct', 'incorrect');
            });
            
            // Reset pilihan
            const pilihan = document.querySelectorAll(`.pilihan[data-soal="${soalNum}"]`);
            pilihan.forEach(p => {
                p.classList.remove('selected', 'correct-answer', 'wrong-answer');
            });
            
            // Reset feedback utama
            const feedback = document.getElementById(`feedback-${soalNum}`);
            feedback.className = 'feedback';
            feedback.textContent = '';
            
            // Reset feedback per langkah
            const feedbackLangkah = document.querySelectorAll(`.soal-card:nth-child(${soalNum}) .feedback-langkah`);
            feedbackLangkah.forEach(f => {
                f.className = 'feedback-langkah';
                f.textContent = '';
            });
            
            // Hapus jawaban yang dipilih
            delete jawabanDipilih[soalNum];
        }
    </script>
</body>
</html>
